<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
	<HEAD>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
		<META NAME="resource-type" CONTENT="document">
		<LINK REL="stylesheet" HREF="index.css" TYPE="text/css" MEDIA="all">
		<TITLE>mdocml | mdoc macro compiler</TITLE>
	</HEAD>
	<BODY>
	<TABLE CLASS="frame" SUMMARY="[frame]">
		<COL WIDTH="100%">
		<TBODY>
			<TR>
				<TD>
					<DIV CLASS="head">
						<B>mdocml</B> &#8211; mdoc macro compiler
					</DIV>
				</TD>
			</TR>
			<TR>
				<TD VALIGN="top">
					<H1>
					<A NAME="description">DESCRIPTION</A>
					</H1>

					<P>
					<SPAN CLASS="nm">mdocml</SPAN> is a suite of tools compiling <Q>-<A HREF="mdoc.7.html">mdoc</A></Q>, the
					roff macro package of choice for BSD manual pages, and <Q>-<A HREF="man.7.html">man</A></Q>, the
					predominant historical package for UNIX manuals.  The mission of <SPAN CLASS="nm">mdocml</SPAN> is to
					deprecate <A HREF="http://www.gnu.org/software/groff/" CLASS="external">groff</A>, the GNU troff
					implementation, for displaying -mdoc pages whilst providing token support for -man.
					</P>

					<P>
					Why?  groff amounts to over 5 MB of source code, most of which is C++ and all of which is GPL.  It runs
					slowly, produces uncertain output, and varies in operation from system to system.  mdocml strives to fix
					this (respectively small, C, <A CLASS="external"
					HREF="http://www.isc.org/software/license">ISC</A>-licensed, fast and regular).
					</P>

					<P>
					<SPAN CLASS="nm">mdocml</SPAN> consists of the <A HREF="mdoc.3.html">libmdoc</A>, <A
					HREF="man.3.html">libman</A>, and <A HREF="roff.3.html">libroff</A> validating compilers; and <A
					HREF="mandoc.1.html">mandoc</A>, which interfaces with the compiler libraries to format output for UNIX
					terminals, XHTML, HTML, and PostScript.  <SPAN CLASS="nm">mdocml</SPAN> is a <A CLASS="external"
					HREF="http://bsd.lv/">BSD.lv</A> project.  
					</P>

					<P>
					<I>Disambiguation</I>: <SPAN CLASS="nm">mdocml</SPAN> is often referred to by its installed binary,
					<Q>mandoc</Q>.
					</P>
				</TD>
			</TR>
			<TR>
				<TD>
					<H1>
					<A NAME="sources">SOURCES</A>
					</H1>

					<P>
					<SPAN CLASS="nm">mdocml</SPAN> is architecture- and system-neutral, written in plain-old C.  The most
					current version is <SPAN CLASS="attn">@VERSION@</SPAN>, dated <SPAN class="attn">@VDATE@</SPAN>.  A full
					<A HREF="ChangeLog.html">ChangeLog</A> (<A HREF="ChangeLog.txt">txt</A>) is written with each release.
					</P>

					<H2>
					Current
					</H2>

					<TABLE WIDTH="100%" SUMMARY="Current Sources">
					<COL WIDTH="200">
					<COL>
					<TBODY>
						<TR>
							<TD>Source archive</TD>
							<TD>
							<A HREF="/snapshots/mdocml.tar.gz">/snapshots/mdocml.tar.gz</A> 
							(<A HREF="/snapshots/mdocml.md5">md5</A>)
							</TD>
						</TR>
						<TR>
							<TD>Online source</TD>
							<TD>
							<A HREF="http://mdocml.bsd.lv/cgi-bin/cvsweb/?cvsroot=mdocml">cvsweb</A>
							</TD>
						</TR>
					</TBODY>
					</TABLE>

					<H2>
					Downstream
					</H2>

					<TABLE WIDTH="100%" SUMMARY="Downstream Sources">
					<COL WIDTH="200">
					<COL>
					<TBODY>
						<TR>
							<TD>DragonFly BSD</TD>
							<TD>
							<A HREF="http://gitweb.dragonflybsd.org/dragonfly.git/tree/HEAD:/usr.bin/mandoc"
								CLASS="external">usr.bin/mandoc</A>
							</TD>
						</TR>
						<TR>
							<TD>FreeBSD</TD>
							<TD>
							<A HREF="http://www.freebsd.org/cgi/cvsweb.cgi/ports/textproc/mdocml/" 
								CLASS="external">ports/textproc/mdocml</A>
							</TD>
						</TR>
						<TR>
							<TD>NetBSD</TD>
							<TD>
							<A HREF="http://cvsweb.netbsd.org/bsdweb.cgi/src/external/bsd/mdocml/"
								CLASS="external">src/external/bsd/mdocml</A>
							</TD>
						</TR>
						<TR>
							<TD>OpenBSD</TD>
							<TD>
							<A HREF="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/mandoc/"
								CLASS="external">src/usr.bin/mandoc</A> 
							</TD>
						</TR>
					</TBODY>
					</TABLE>

					<H2>
					Historical
					</H2>

					<TABLE WIDTH="100%" SUMMARY="Archived Sources">
					<COL WIDTH="200">
					<COL>
					<TBODY>
						<TR>
							<TD>Source archive</TD>
							<TD>
							<A HREF="/snapshots/">/snapshots/</A> 
							</TD>
						</TR>
					</TBODY>
					</TABLE>
				</TD>
			</TR>
			<TR>
				<TD>
					<H1>
					<A NAME="documentation">DOCUMENTATION</A>
					</H1>

					<P>
						These manuals are generated automatically and refer to the current snapshot.
					</P>

					<TABLE WIDTH="100%" SUMMARY="Documentation">
					<COL WIDTH="200">
					<COL>
					<TBODY>
						<TR>
							<TD VALIGN="top"><A HREF="man.3.html">man(3)</A></TD>
							<TD VALIGN="top">
								man macro compiler library
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="man.3.txt">text</A> | 
									<A HREF="man.3.xhtml">xhtml</A> |
									<A HREF="man.3.pdf">pdf</A> |
									<A HREF="man.3.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="man.7.html">man(7)</A></TD>
							<TD VALIGN="top">
								man language reference
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="man.7.txt">text</A> | 
									<A HREF="man.7.xhtml">xhtml</A> |
									<A HREF="man.7.pdf">pdf</A> |
									<A HREF="man.7.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="mandoc.1.html">mandoc(1)</A></TD>
							<TD VALIGN="top">
								format and display UNIX manuals
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="mandoc.1.txt">text</A> | 
									<A HREF="mandoc.1.xhtml">xhtml</A> |
									<A HREF="mandoc.1.pdf">pdf</A> |
									<A HREF="mandoc.1.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="mandoc_char.7.html">mandoc_char(7)</A></TD>
							<TD VALIGN="top">
								mandoc special characters
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="mandoc_char.7.txt">text</A> | 
									<A HREF="mandoc_char.7.xhtml">xhtml</A> |
									<A HREF="mandoc_char.7.pdf">pdf</A> |
									<A HREF="mandoc_char.7.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="mdoc.3.html">mdoc(3)</A></TD>
							<TD VALIGN="top">
								mdoc macro compiler library
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="mdoc.3.txt">text</A> | 
									<A HREF="mdoc.3.xhtml">xhtml</A> |
									<A HREF="mdoc.3.pdf">pdf</A> |
									<A HREF="mdoc.3.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="mdoc.7.html">mdoc(7)</A></TD>
							<TD VALIGN="top">
								mdoc language reference
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="mdoc.7.txt">text</A> | 
									<A HREF="mdoc.7.xhtml">xhtml</A> |
									<A HREF="mdoc.7.pdf">pdf</A> |
									<A HREF="mdoc.7.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="roff.3.html">roff(3)</A></TD>
							<TD VALIGN="top">
								roff macro compiler library
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="roff.3.txt">text</A> | 
									<A HREF="roff.3.xhtml">xhtml</A> |
									<A HREF="roff.3.pdf">pdf</A> |
									<A HREF="roff.3.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
						<TR>
							<TD VALIGN="top"><A HREF="roff.7.html">roff(7)</A></TD>
							<TD VALIGN="top">
								roff-mandoc language reference
								<SPAN STYLE="font-size: smaller;">
									(<A HREF="roff.7.txt">text</A> | 
									<A HREF="roff.7.xhtml">xhtml</A> |
									<A HREF="roff.7.pdf">pdf</A> |
									<A HREF="roff.7.ps">postscript</A>)
								</SPAN>
							</TD>
						</TR>
					</TBODY>
					</TABLE>

					<P>
					See <Q><A CLASS="external" HREF="http://manpages.bsd.lv">Writing UNIX Manual Pages</A></Q> for a general
					introduction to manpages and mdoc.
					</P>
				</TD>
			</TR>
			<TR>
				<TD>
					<H1>
					<A NAME="contact">CONTACT</A>
					</H1>

					<P>
						Please use the mailing lists for bug-reports, patches, questions, etc.  Beyond that, contact
						Kristaps at <A
						HREF="http://mailhide.recaptcha.net/d?k=01M6h_w7twDp58ZgH57eWC_w==&amp;c=Q2DBUt401ePlSeupJFrq_Q=="
						TITLE="Reveal this e-mail address">kris...</A>@bsd.lv.
					</P>

					<P>
						You may also subscribe to several mailing lists (these require subscription, which is
						moderated).
					</P>

					<TABLE WIDTH="100%" SUMMARY="Mailing Lists">
						<COL WIDTH="200">
						<COL>
						<TBODY>
							<TR>
								<TD>
									disc<A CLASS="external" TITLE="Reveal this e-mail address"
									HREF="http://www.google.com/recaptcha/mailhide/d?k=01KQ80PFH5n3BBNpF5Gs4sRg==&amp;c=EV1QytpQqTHSItc2IXvZyocgYLPnG5K0JKw_gwMC9yc=">...</A>@mdocml.bsd.lv
								</TD>
								<TD>
									bug-reports, general questions, and announcements 
									<SPAN STYLE="font-size: smaller;">(<A HREF="/archives/discuss/summary.html">archive</A>)</SPAN>
								</TD>
							</TR>
							<TR>
								<TD>
									tec<A CLASS="external" TITLE="Reveal this e-mail address"
									HREF="http://www.google.com/recaptcha/mailhide/d?k=01qDX_iV0RlUOarEvb6mR28g==&amp;c=gRXsTjza0NNCFPaYu-Taj2tF0pmYZSc90EZkFkhkxgo=">...</A>@mdocml.bsd.lv
								</TD>
								<TD>
									patches and system discussions 
									<SPAN STYLE="font-size: smaller;">(<A HREF="/archives/tech/summary.html">archive</A>)</SPAN>
								</TD>
							</TR>
							<TR>
								<TD>
									sou<A CLASS="external" TITLE="Reveal this e-mail address"
									HREF="http://www.google.com/recaptcha/mailhide/d?k=01prQrAZhhl2EbIwVcRfABsQ==&amp;c=KtTW4Yic9xk-8g40KzJoca4fR3MYXv28g8NC6OQV-T8=">...</A>@mdocml.bsd.lv
								</TD>
								<TD>
									source commit messages 
									<SPAN STYLE="font-size: smaller;">(<A HREF="/archives/source/summary.html">archive</A>)</SPAN>
								</TD>
							</TR>
						</TBODY>
					</TABLE>
				</TD>
			</TR>
			<TR>
				<TD>
					<H1>
					<A NAME="news">NEWS</A>
					</H1>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">xx-12-2010</SPAN>:
							version 1.10.8
						</P>
						<P>
							Significant improvements merged from <A CLASS="external"
							HREF="http://www.openbsd.org">OpenBSD</A> downstream, including
						</P>
						<UL>
							<LI>many new <A HREF="roff.7.html">roff</A> components,</LI>
							<LI>in-line implementation of troff's soelim,</LI>
							<LI>broken-block handling,</LI>
							<LI>overhauled error classifications, and</LI>
							<LI>cleaned up handling of error conditions.</LI>
						</UL>
						<P>
							Also overhauled the <SPAN CLASS="flag">-Thtml</SPAN> and <SPAN
							CLASS="flag">-Txhtml</SPAN> output modes.  They now display readable output in arbitrary
							browsers, including text-based ones like <A CLASS="external"
							HREF="http://lynx.isc.org">lynx</A>. <SPAN CLASS="attn">Available style-sheet classes
							have been considerably changed!</SPAN> See the <SPAN
							CLASS="file">example.style.css</SPAN> file for details.  Lastly, <A
							HREF="mdoc.3.html">libmdoc</A> and <A HREF="man.3.html">libman</A> have been cleaned up
							and reduced in size and complexity.
						</P>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">27-09-2010</SPAN>:
							version 1.10.6
						</P>
						<P>
							Calling conventions for <A HREF="mandoc.1.html">mandoc</A> have changed: <SPAN
							CLASS="flag">-W</SPAN> improved and <SPAN CLASS="flag">-f</SPAN> deprecated.  Non-ASCII
							characters are also now uniformly discarded.  Lots of documentation improvements.  Many
							incremental fixes accomodating for groff's more interesting productions.  Lastly, <A
							HREF="http://perldoc.perl.org/pod2man.html" CLASS="external">pod2man</A> preambles are
							now fully accepted after some considerable <A HREF="roff.7.html">roff</A> and special
							character support.
						</P>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">27-07-2010</SPAN>:
							version 1.10.5
						</P>
						<P>
							Primarily a bug-fix and polish release, but including <SPAN CLASS="flag">-Tpdf</SPAN>
							support in <A HREF="mandoc.1.html">mandoc</A> by way of <A CLASS="external"
							HREF="http://netbsd-soc.sourceforge.net/projects/mandoc_ps/">Summer of Code</A>.
							Highlights:
						</P>
						<UL>
							<LI>fix <Q>Sm</Q> and <Q>Bd</Q> handling</LI>
							<LI>fix end-of-sentence handling for embedded sentences</LI>
							<LI>polish <A HREF="man.7.html">man</A> documentation</LI>
							<LI>document all <A HREF="mdoc.7.html">mdoc</A> macros</LI>
							<LI>polish <A HREF="mandoc.1.html">mandoc</A> <SPAN CLASS="flag">-Tps</SPAN> output</LI>
							<LI>lots of internal clean-ups in character escapes</LI>
							<LI>un-break literal contexts in <A HREF="man.7.html">man</A> documents</LI>
							<LI>improve <SPAN CLASS="flag">-Thtml</SPAN> output for <SPAN CLASS="flag">-man</SPAN></LI>
							<LI>add <A HREF="mandoc.1.html">mandoc</A> <SPAN CLASS="flag">-Tpdf</SPAN> support</LI>
						</UL>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">12-07-2010</SPAN>:
							version 1.10.4
						</P>
						<P>
							Lots of features developed during both <A CLASS="external"
							HREF="http://netbsd-soc.sourceforge.net/projects/mandoc_ps/">Summer of Code</A> and the
							<A CLASS="external" HREF="http://www.openbsd.org">OpenBSD</A> c2k10 hackathon:
						</P>
						<UL>
							<LI>minimal <Q>ds</Q> <A HREF="roff.7.html">roff</A> symbols are supported</LI>
							<LI><Q>Bk</Q> <A HREF="mdoc.7.html">mdoc</A> support</LI>
							<LI>beautified SYNOPSIS section output</LI>
							<LI>variable font-width and paper-size support in <A HREF="mandoc.1.html">mandoc</A>
								<SPAN CLASS="flag">-Tps</SPAN> output</LI>
							<LI>acceptance of scope-block breakage in <A HREF="mdoc.7.html">mdoc</A></LI>
							<LI>clarify error message status</LI>
							<LI>many minor bug-fixes and formatting issues resolved</LI>
						</UL>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">19-06-2010</SPAN>:
							version 1.10.2
						</P>
						<P>
							Small release featuring text-decoration in <SPAN CLASS="flag">-Tps</SPAN> output, a few
							minor relaxations of errors, and some optimisations.
						</P>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">07-06-2010</SPAN>:
							version 1.10.1
						</P>
						<P>
							This primarily focusses on the <Q>Bl</Q> and <Q>It</Q> macros described in <A
							HREF="mdoc.7.html">mdoc</A>.  Multi-line column support is now fully compatible with
							groff, as are implicit list entries for columns.  Removed manuals.7 in favour of <A
							CLASS="external" HREF="http://manpages.bsd.lv">http://manpages.bsd.lv</A>.  The way we
							handle the SYNOPSIS section (see the SYNOPSIS documentation in <A
							HREF="mdoc.7.html#x4d414e55414cx20x535452554354555245">MANUAL STRUCTURE</A>) has also
							been considerably simplified compared to groff's method.  Furthermore, the <SPAN
							CLASS="flag">-Owidth=width</SPAN> output option has been added to <SPAN
							CLASS="flag">-Tascii</SPAN> (see <A HREF="mandoc.1.html">mandoc</A>).  Lastly, initial
							PostScript output has been added with the <SPAN CLASS="flag">-Tps</SPAN> option to <A
							HREF="mandoc.1.html">mandoc</A>.  It's brutally simple at the moment: fixed-font, with
							no font decorations.
						</P>
					</DIV>
					<DIV CLASS="news">
						<P>
							<SPAN CLASS="date">29-05-2010</SPAN>:
							version 1.10.0
						</P>
						<P>
							Release consisting of the results from the m2k10 hackathon and up-merge from OpenBSD.
							This requires a significant note of thanks to Ingo Schwarze (OpenBSD) and Joerg
							Sonnenberger (NetBSD) for their hard work, and again to Joerg for hosting m2k10.
							Highlights (mostly cribbed from Ingo's m2k10 report) follow in no particular order:
						</P>
						<UL>
							<LI>a <A HREF="roff.3.html">libroff</A> preprocessor in front of <A
							HREF="mdoc.3.html">libmdoc</A> and <A HREF="man.3.html">libman</A> stripping out
							<A HREF="roff.7.html">roff</A> instructions;</LI>
							<LI>end-of-sentence (EOS) detection in free-form and macro lines;</LI>
							<LI>correct handling of tab-separated columnar lists in <SPAN
							CLASS="flag">-mdoc</SPAN>;</LI>
							<LI>improved main calling routines to optionally use mmap() for better
							performance;</LI>
							<LI>cleaned up exiting when invoked as <SPAN CLASS="flag">-Tlint</SPAN> or over
							multiple files with <SPAN CLASS="flag">-fign-errors</SPAN>;</LI>
							<LI>error and warning message handling re-written to be unified for <A
							HREF="roff.3.html">libroff</A>, <A HREF="mdoc.3.html">libmdoc</A>, and <A
							HREF="man.3.html">libman</A>;</LI>
							<LI>handling of badly-nested explicit-scoped macros;</LI>
							<LI>improved free-form text parsing in <A HREF="man.3.html">libman</A> and <A
							HREF="mdoc.3.html">libmdoc</A>;</LI>
							<LI>significant GNU troff compatibility improvements in <SPAN
							CLASS="flag">-Tascii</SPAN>, largely in terms of spacing;</LI>
							<LI>a regression framework for making sure the many fragilities of GNU troff
							aren't trampled in subsequent work;</LI>
							<LI>support for <SPAN CLASS="flag">-Tascii</SPAN> breaking at hyphens
							encountered in free-form text;</LI>
							<LI>and many more minor fixes and improvements (no really, consult <A
							HREF="http://mdocml.bsd.lv/cgi-bin/cvsweb/?cvsroot=mdocml">cvsweb</A> and see
							for yourself!).</LI>
						</UL>
					</DIV>
					<P>
						See <A HREF="http://mdocml.bsd.lv/cgi-bin/cvsweb/index.sgml?cvsroot=mdocml">cvsweb</A> for
						historical notes.
					</P>
				</TD>
			</TR>
			<TR>
				<TD>
					<DIV CLASS="foot">
						Copyright &#169; 2008&#8211;2010 Kristaps Dzonsons, $Date$
					</DIV>
				</TD>
			</TR>
		</TBODY>
	</TABLE>
	</BODY>
</HTML>
