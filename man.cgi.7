.Dd $Mdocdate$
.Dt MAN.CGI 7
.Os
.Sh NAME
.Nm man.cgi
.Nd cgi for manpage query and display
.Sh SYNOPSIS
.Nm
.Sh DESCRIPTION
The
.Nm
script queries and displays manual pages.
It interfaces with
.Xr mandocdb 8
databases for query and with
.Xr mandoc 3
for display.
It operates over a cache of manuals generated by
.Xr catman 8 .
.Pp
To use
.Nm ,
first create a manual cache in
.Xr catman 8 .
If your web-server is running in a jail, the cache directory must be
within the jail.
Set the environment variable
.Ev CACHE_DIR
to this directory, which defaults to
.Pa /cache/man.cgi .
If you're running in a jailed web-server, make sure the
.Pa /tmp
directory exists and is writable.
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Er CACHE_DIR
The absolute path of the
.Xr catman 8
cache directory.
.El
.Sh FILES
.Bl -tag -width Ds
.It Pa etc/catman.conf
Built by
.Xr catman 8
and must exist under the configuration directory root.
.It Pa man.css
Must be visible in the server document root, used for styling source
manual page output.
.It Pa catman.css
Must be visible in the server document root, used for styling
pre-formatted manual page output.
.It Pa man.cgi.css
Must be visible in the server document root, used for general styling of
.Nm
search and error pages.
.El
.Sh SEE ALSO
.Xr mandoc 3 ,
.Xr catman 8 ,
.Xr mandocdb 8
.Sh AUTHORS
The
.Nm
utility was written by
.An Kristaps Dzonsons ,
.Mt kristaps@bsd.lv .
